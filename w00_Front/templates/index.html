<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/mobile.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/constants.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/modal.css') }}">
    <link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='favi.ico') }}">
    <title>{{ page_title }}</title>
    <style>
        /* CSS 스타일은 여기에 추가 */
    </style>
</head>
<body>
    <a href="#" class="btn-3d green" id="back-btn">뒤로가기</a>
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-6 h-6" id="back">
        <path strokeLinecap="round" strokeLinejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3" />
    </svg>
    
    <div id="wrapper">
        {% for image in dummy %}
        <div class="card-container">
            <div class="items">                
                <img src="{{ image.img }}" alt="{{ image.alt }}" title="이미지를 클릭해보세요" class="open-modal" data-id="{{ image.id }}">
            </div>
        </div>
        {% endfor %}
    </div>
    
    <div class="story_wrapper">
        {% for image in dummy %}
        <p class="story">{{ loop.index }}번 이야기:<br>{{ image.story }}</p>
        {% endfor %}
    </div>
      
    <!-- 모달 -->
    <div id="modal" class="modal hidden">
        <img id="modal-image" src="" alt="Modal Image">
        <p id="modal-story" class="story"></p>
        <button class="btn-3d green" id="close-modal" >닫기</button>
    </div>
    
    <script>
        const dummy = {{ dummy | tojson }};
        
        // 모바일에서 모달 비활성화
        if (window.innerWidth <= 768) {
            const modal = document.getElementById('modal');
            modal.style.display = 'none'; // 모달 숨김
            const openModalButtons = document.querySelectorAll('.open-modal');
            openModalButtons.forEach(button => {
                button.addEventListener('click', event => {
                    event.preventDefault(); // 기본 이벤트(링크 이동) 방지
                });
            });
        }
    </script>
    <script src="{{ url_for('static', filename='js/modal.js') }}"></script>
</body>
</html>
